<!doctype html>
<!--[if lt IE 7 ]><html itemscope itemtype="http://schema.org/Organization" id="ie6" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 7 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie7" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 8 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie8" class="ie ie-old" lang="en-US"><![endif]-->
<!--[if IE 9 ]>   <html itemscope itemtype="http://schema.org/Organization" id="ie9" class="ie" lang="en-US"><![endif]-->
<!--[if gt IE 9]><!--><html itemscope itemtype="http://schema.org/Organization" lang="en-US"><!--<![endif]-->
<head>

    <!-- Meta -->
    <meta charset="utf-8">
    <title>Pipes - Pipes</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Favicons -->
    <link rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64 96x96" href="/pipes/favicon.ico">
    <meta name="application-name" content="Pipes - Pipes">
    <link type="text/css" rel="stylesheet" href="/pipes/assets/bundle.css">
</head>
<body class="">

    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/pipes">
                  <span class="logo">
                    <img src="/pipes/images/logo-marklogic.svg" width="180px" height="38px" alt="MarkLogic" title="MarkLogic" scale="0">
                  </span>
                  Pipes
                </a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    
                        <li  class="active"  >
                            
                            <a href="/pipes/">Getting Started</a>
                            
                        </li>
                    
                        <li  >
                            
                            <a href="https://github.com/marklogic-community/pipes">GitHub</a>
                            
                        </li>
                    
                </ul>
            </div>
        </div>
    </nav>




  <article>
    <div class="container">
      <div class="row">
        <div class="side-nav col-md-3 hide-small">
          <div class="panel panel-default">
  <div class="panel-heading">Navigation</div>
  <ul class="list-group">
  
  <li  class="list-group-item active"  >
    
    <a href="/pipes/">Installing Pipes</a>
    
    
      <ul class="list-group">
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/#download-pipes">Download Pipes</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/#configure-pipes">Configure Pipes</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/custom-blocks#use-custom-blocks">Use custom blocks</a>
    
    
  </li>
  
</ul>

    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use/">How Do I Use it?</a>
    
    
      <ul class="list-group">
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#data-model">Define the data model in QuickStart UI</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#custom-step">Add a custom step in QuickStart UI</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#minimal-graph">Build a minimal graph in Pipes</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#run-preview">Run the graph preview</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#entity-blocks">Create entity blocks</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#source-blocks">Create source data blocks</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#map-values">Mapping values</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#custom-uris">Create custom URIs</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#1-to-many">1-to-many Mapping</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#save-custom-step">Export the custom step</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#run-custom-step">Run the custom step</a>
    
    
  </li>
  
</ul>

    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/blocks/">Block library</a>
    
    
      <ul class="list-group">
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#source-blocks">Source Blocks</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#entity-blocks">Entity Blocks</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#custom-step-input">Custom Step Input</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#custom-step-output">Custom Step Output</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/how-to-use#envelope-block">Envelope</a>
    
    
  </li>
  
</ul>

    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/custom-blocks/">How to create and use custom blocks</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/faqs/">FAQs</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="/pipes/troubleshooting/">Troubleshooting</a>
    
    
  </li>
  
  <li  class="list-group-item"  >
    
    <a href="https://github.com/marklogic-community/pipes">Pipes on GitHub</a>
    
    
  </li>
  
</ul>

</div>

        </div>
        <div class="col-md-9">
          <h1 id="pipes-for-marklogic-datahub">Pipes for MarkLogic DataHub</h1>

<h2 id="what-is-pipes">What is Pipes?</h2>
<p>A visual programming tool for <a href="https://docs.marklogic.com/guide/getting-started/intro">MarkLogic</a>. It integrates with the <a href="https://docs.marklogic.com/datahub/">MarkLogic Data Hub</a> and produces the code for a <a href="https://docs.marklogic.com/datahub/modules/editing-custom-step-module.html">Custom Step</a> using a no-code UI environment.</p>

<p>Pipes for MarkLogic DataHub is a community tool. As such, it is not supported by MarkLogic Corporation and is only updated and corrected based on a best-effort approach. Any contribution or feedback is welcomed to make the tool better.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Pipes is designed to run on MarkLogic 10.0-2 and higher.</p>

<p>It assumes that:</p>

<ul>
  <li>A DHF project (5.1.0 and higher) is present on the local file-system</li>
  <li>That DHF project is installed to your MarkLogic server</li>
  <li>Java 8 or higher installed</li>
</ul>

<p><a name="download-pipes"></a></p>
<h2 id="great-how-do-i-run-it">Great! How do I run it?</h2>
<p>To use Pipes you will need to have an instance of MarkLogic with the <a href="https://docs.marklogic.com/datahub/index.html">Data Hub</a> installed.</p>

<ul>
  <li>Download the Pipes jar from the <a href="https://github.com/marklogic-community/pipes/releases">Releases</a> section.</li>
  <li>Copy the jar to the DHF folder root you plan to use Pipes for.</li>
</ul>

<p>Run pipes from the command line:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar marklogic-pipes-1.2.jar
</code></pre></div></div>

<p>As soon as Pipes starts, it will print out the port number it’s running on. Example, Pipes will be available on: <a href="http://localhost:8080">localhost:8080</a> if the port is 8080.</p>

<p><a name="configure-pipes"></a></p>
<h2 id="pipes-options-command-line-parameters">Pipes options (command line parameters)</h2>

<p>Pipes has several properties that can be used on the command line, when starting the Pipes jar.</p>

<p>Alternatively, you can put these into an application.properties file in the same directory where you’ve copied the Pipes jar to.</p>

<h3 id="gradle-environment-name">Gradle environment name</h3>
<p><code class="highlighter-rouge">environmentName</code></p>

<p>If you have multiple environments in your DHF project, you can tell Pipes which one to use.</p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar marklogic-pipes-1.2.jar --environmentName=production
</code></pre></div></div>

<p>will first read gradle.properties of the project and then gradle-production.properties</p>

<h3 id="pipes-port">Pipes port</h3>

<p><code class="highlighter-rouge">server.port</code></p>

<p>Pipes will run on a first availble port it finds counting from 8000. If you want to specify your own port, use this parmeter</p>

<h3 id="dhf-project-root">DHF Project Root</h3>

<p><code class="highlighter-rouge">mlDhfRoot</code></p>

<p>If you want to run Pipes from another folder (i.e. you haven’t copied the Pipes jar to the DHF root project folder), you can to use this parameter to tell Pipes where to look for the DHF project.</p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar marklogic-pipes-1.2.jar --mlDhfRoot=/users/user/dev/test-pipes
</code></pre></div></div>

<p>or, on Windows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar marklogic-pipes-1.2.jar --mlDhfRoot=C:/Users/user/dev/test-pipes
</code></pre></div></div>

<h3 id="open-a-graph-automatically-on-pipes-log-in">Open a graph automatically on Pipes log-in</h3>

<p>You can tell Pipes to load a graph saved in the database by using this parameter</p>

<p><code class="highlighter-rouge">loadGraph</code></p>

<p>Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java -jar marklogic-pipes-1.2.jar --loadGraph=mygraph
</code></pre></div></div>

<p>will load a graph saved as “mygraph to the database as soon as you log in to Pipes.</p>

<h4 id="backend-modules">Backend modules</h4>

<p>Pipes requires several backend modules (libraries) to be installed on the MarkLogic server, both when running the Pipes UI to design your custom code and when running the custom code within the DHF flow, later.</p>

<p>They will be installed automatically when Pipes runs.</p>

<p>In case when you have 2 environments - one where you use the Pipes UI and another where you run the custom steps designed by Pipes, you will need these modules installed on both environments.</p>

<p>Pipes modules can be separately installed using <a href="https://github.com/marklogic-community/ml-gradle/wiki/Bundles">mlBundle</a>. To use the Pipes modules bundle in your DHF project, add the following to <code class="highlighter-rouge">build.gradle</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>```
repositories {
    maven {url 'https://dl.bintray.com/marklogic-community/Maven/'}
}

dependencies {
    mlBundle "com.marklogic:pipes-modules:1.2"
}
```
</code></pre></div></div>


        </div>
      </div>
    </div>
  </article>


    <footer class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <p>
                    Copyright © 2020 MarkLogic Corporation. All Rights Reserved. MARKLOGIC® is a registered trademark of MarkLogic Corporation.
                    </p>
                </div>
            </div>
        </div>
    </footer>


    <!--[if lt IE 9]>
        <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="/pipes/js/respond.min.js"></script>
    <![endif]-->

    <script type="text/javascript" src="/pipes/assets/bundle.js" id="1"></script>
  </body>
</html>

